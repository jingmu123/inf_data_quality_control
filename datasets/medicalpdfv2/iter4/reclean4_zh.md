## 1.无关文本 

### 1.1 删除比较杂乱括号内的无关数字

例如：( 2 53-3-3 ) 、( 1 4 = 2 = 4 ) 

```
([\(（] *( ?[-\-=\. )] ?\d+){2,} *[)\)]) *
```

### 1.2参见内容的删除 

例如：( 参见第1章和第3章 ) ( 参见习题 2.18 和 2.19) 修行慈心禅（请参见此处） 

现在对括号内出现的参见字样的括号进行删除 

```
([(（][^\n()（）\\]*?参见[^\n()（）\\]*?[）)]) 
```

### 1.3整篇的文献 

之前因为关键字不够全面，出现一个漏检测，出现“主编介绍”以及“版权所有”的字样也加入检查 

### 1.4人名类无关文本补充 

新出现的人名特征，例如：(引自杨福偷)并且在括号里添加多个可能出现单独空格，避免漏删除无关文本

##  2.缺少换行 

### 2.1个别标题开头与标题内容分离 

当标题开头只有第x章、第x节时，判断下一段文本是否改连接上去。如果下一段文本没有标点符号并且长度小于10时，认为是标题内容。 

例如： 

第一节 

胸膜病变 

```
(#?#? *第[—一二三四五六七八九十-]+[章节] *\.?)(\n+)#?#?( *[\u4e00-\u9fa5]{3,10}) *
```

### 2.2中文类标题缺少换行 

有时会出现中括号里带中文的标题缺少换行，当一段话里出现两个这样的标题时，现在换行。 

例如：

 .8.5 【定位】最后 (第十三) 胸椎与第一腰椎鼻炎同的巴路中 , 一次 , 1915 ), 191 【解剖】 射人娘上钩带 、 被同窃帶 、 Ł阿肌 , 有第十三肋阿动、静脉背支和胸神经背支分布。

```
 ([【[〖] ?[\u4e00-\u9fa5]{2,5} ?(\d* )?[〗\]】])(.*)([【[〖] ?[\u4e00-\u9fa5]{2,5} ?(\d* )?[〗\]】])(.*) *
```

还有对在结尾标点符号后面出现的这类标题换行。 

例如：

 (2) 常用的问题形式为二项式、多项选择、顺序排列、矩阵式等。[实习用品]

```
[，,。？！.?!]([【[〖] ?[\u4e00-\u9fa5]{2,5} ?(\d* )?[〗\]】])(.*)
```

### 2.3 is_complete导致的缺少换行

部分这类标题的缺少换行还有些是is_complete误连接上去的，现在补充了这类标题的识别判断，识别到这类标题时跳过删除换行。 

### 2.4出现一些公式与其他文本的缺少换行

基本都是判断错误导致的，现在屏蔽上一段文本是公式或下一段文本是公式的删除换行。

### 2.5结巴分词导致的缺少换行

部分缺少换行是结巴分词把上一段的最后一个字与下一段的最后一个字认为成一个词语了，但是其实不是一个词语，结果导致缺少换行，现在先把这部分去除。 

例如：

1. 放射性核素标记物删除换行2：常用 2把物和常认为是一个词语（物常），是错误的。

### 2.6公式类的缺少换行 

之前因为公式的英文导致删除换行。现在对文本检测如果是全非中文字符，并且有算术符号，就去掉这类文本的删除换行。

## 3.多余换行 

3.1之前对两端文本之间没有标点符号结尾的删除换行判断添加了字符数判断，导致个别正文没有连接上去。例如正文最后就两三个字的时候。现在还多了一层标点符号的判断，必须同时字数小于10以及没有标点符号时才会跳过删除换行。

### 4.误删 

### 4.1英文噪声误删 

现在把英文检测放到外层，对正则抓的到疑似目标再筛选一遍，把出现的比较类似的字符串去除。（这些出现了两次及以上的类似字符一般不是噪声，是化学式或算式之类的英文） 

### 4.2[数字]类序号的误删 

现在不去匹配在段首的该类序号，避免误删序号 (?<!^)(?<!\n)([\[]( ?\d+[\s,\.\-\]）』]+)+)

### 4.3参考删除-0的误删

参考删除0的误删当出现特征大于3个时，文本长度<300时、当出现特征大于2个时，文本长度<200时会删除。现在减小文本长度的限制第一个变成<200，第二个变成<100.